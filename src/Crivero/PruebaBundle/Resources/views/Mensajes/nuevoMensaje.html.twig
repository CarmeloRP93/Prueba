{% extends 'CriveroPruebaBundle::main.html.twig' %}

{% block title %}Nuevo Mensaje {% endblock %}

{% block contenido %}
    <div class="container centradoV" style="top: 50%">
        <h1 class="t1">Nuevo Mensaje</h1>   

        {{ form_start(form, { 'attr' : {'novalidate' : 'novalidate', 'role' : 'form'} }) }}


        <div class="hidden">
            {{ form_widget(form.tipoComentario, { 'value' : "mensaje" } ) }}
            <span class="text-danger">{{ form_errors(form.tipoComentario) }}</span>
        </div>

        <div class="hidden">
            {{ form_widget(form.idRemitente, { 'value' : app.user.id } ) }}
            <span class="text-danger">{{ form_errors(form.idRemitente) }}</span>
        </div>

        <div class="form-group">
            {{ form_label(form.destinatario) }}
            {{ form_widget(form.destinatario, { 'attr' : {'class' : 'form-control', 'placeholder' : 'Ej: pedro@gmail.com'}, 'value' : destino }) }}
            <span class="text-danger">{{ form_errors(form.destinatario) }}</span>
        </div>

        <div class="form-group">
            {{ form_label(form.asunto) }}
            {% if 'responder' in app.request.uri %}
                {{ form_widget(form.asunto, { 'attr' : {'class' : 'form-control', 'placeholder' : 'Escriba el asunto'}, 'value': asunto }) }}
            {% else %}
                {{ form_widget(form.asunto, { 'attr' : {'class' : 'form-control', 'placeholder' : 'Escriba el asunto'} }) }}
            {% endif %}
            <span class="text-danger">{{ form_errors(form.asunto) }}</span>
        </div>

        <div class="form-group">
            {{ form_label(form.descripcion) }}
            {{ form_widget(form.descripcion, { 'attr' : {'class' : 'form-control', 'placeholder' : 'Escriba el mensaje...'} }) }}
            <span class="text-danger">{{ form_errors(form.descripcion) }}</span>
        </div>
      
        <div class="hidden">
            {{ form_label(form.fecha) }}
            {{ form_widget(form.fecha, { 'attr' : {'class' : 'form-control'} }) }}
            <span class="text-danger">{{ form_errors(form.fecha) }}</span>
        </div>
        
        <div>
            {{ form_widget(form.estado, { 'value': "nuevo" } ) }}
            <span class="text-danger">{{ form_errors(form.estado) }}</span>
        </div>

        <div class="form-group"><p>
                {{ form_widget(form.enviar, {'label' : 'Enviar', 'attr': {'class': 'btn btn-success'}}) }}
            </p></div>     

        {{ form_end(form) }}

    </div>
{% endblock %}